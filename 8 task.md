НАСТРОЙКА ПРОТОКОЛА OSPF

Обеспечьте динамическую маршрутизацию: ресурсы одного офиса должны быть доступны из другого офиса.\
Для обеспечения динамической маршрутизации используйте link state протокол на ваше усмотрение.

Решение: Первым делом необходимо установить пакеты FRR, для этого необходимо воспользоваться командой:\
apt install frr\
Следующим шагом необходимо произвести изменения конфигурационных файлов \
nano /etc/frr/daemons\
и изменить параметры на YES для протокола OSPF

![image](https://github.com/user-attachments/assets/12229035-bd45-43dc-ad2f-b83ef08776c5)

После сохранения конфига, следующим шагом необходимо, перезапустить frr.service командой \
systemctl restart frr \
Далее, после перезагрузки, посредством команды vtysh перейти в режим конфигурирования (Настройки идентичны Cisco IOS).

![image](https://github.com/user-attachments/assets/72bfdae9-60bb-44cc-897b-53aa7b58f12c)

Посредством команд:
Conf t
router ospf
перейти к конфигурированию протокола ospf
Настройка производится посредством объявления 
ospf router-id x.x.x.x
и прилегающих к маршрутизатору сетей
network x.x.x.x/x area x
как показано на рисунке 9

![image](https://github.com/user-attachments/assets/f1ee9afe-489c-45d5-8734-cf5c6d8fdecd)

### настройка на HQ-RTR

router ospf 1\
 router-id 192.168.100.1\
 network 192.168.100.0 0.0.0.255 area 0\
 network 192.168.200.0 0.0.0.255 area 0


### Настройка BR-RTR

router ospf 1\
 router-id 192.168.0.1\
 network 192.168.0.0 0.0.0.255 area 0
 
### ISP

 router ospf 1\
 router-id 172.16.5.1\
 network 172.16.4.0 0.0.0.15 area 0\
 network 172.16.5.0 0.0.0.15 area 0

####  для сохраниения настроек КОМАНДА write !!!!!!!!

### Рисунок 20
![image](https://github.com/user-attachments/assets/ada41b83-b609-4650-863d-73a597a7343d)\
Включение авторизации и последующая настройка интерфейса

Для завершения настройки сети необходимо сконфигурировать настройку\
для передачи пакетов между сетями в файле nano /etc/sysctl.conf
переменную net.ipv4.ip_forward=1 необходимо раскоментить и сохранить\
изменения в файле, и применить изменения командой sysctl -p

![image](https://github.com/user-attachments/assets/51355a19-17db-4b0a-8a9a-55198892e4be)

Примечание: при каждой перезагрузке устройства, данная настройка будет изменятся обратно, что связано с загрузкой операционной\
системы на виртуальной машине для того, чтобы снова включить пересылку пакетов необходимо прописать sysctl -p

Идентичная настройка проводится на BR-RTR, только указывается другая подсеть(192.168.0.0/27). \
Указание сети туннеля и настройки авторизации абсолютно идентичны
 
